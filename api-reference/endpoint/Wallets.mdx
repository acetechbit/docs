# Wallets API Documentation

## **Overview**
The Wallets API allows users to **create, retrieve, and manage** crypto and fiat wallets within the AceBit platform. This API enables secure access to wallet balances, transactions, and related details.

## **Authentication**
All endpoints require authentication using **Bearer Token**.

---

## **Endpoints**

### **1. Create Multiple Wallets**

**Endpoint:**
```http
POST /wallets/create
```

**Description:**
Creates multiple wallets for a user.

**Security:**
- Requires Bearer Token authentication

**Responses:**
| Status Code | Description |
|------------|-------------|
| 201 | Wallets created successfully. |
| 400 | Bad Request: Missing User ID. |
| 500 | Internal Server Error. |

---

### **2. Create Wallet for a Specific Asset**

**Endpoint:**
```http
POST /wallets/create/{asset}
```

**Description:**
Creates a wallet for a specific asset (e.g., BTC, ETH, TRX).

**Security:**
- Requires Bearer Token authentication

**Parameters:**
| Parameter | Type | Location | Required | Description |
|-----------|------|----------|----------|-------------|
| asset | string | Path | Yes | The asset type (e.g., BTC, ETH, TRX). |

**Responses:**
| Status Code | Description |
|------------|-------------|
| 201 | Wallet created successfully. |
| 400 | Bad Request: Missing User ID. |
| 500 | Internal Server Error. |

---

### **3. Get All Wallets**

**Endpoint:**
```http
GET /wallets
```

**Description:**
Retrieves all wallets (crypto and fiat) for the authenticated user.

**Security:**
- Requires Bearer Token authentication

**Query Parameters:**
| Parameter | Type | Required | Description |
|-----------|------|----------|-------------|
| invalidateCache | boolean | No | Set to `true` to invalidate cache. |

**Responses:**
| Status Code | Description |
|------------|-------------|
| 200 | List of user wallets (crypto and fiat). |
| 400 | Bad Request: Missing or invalid User ID. |
| 500 | Internal Server Error. |

**Response Example:**
```json
{
  "cryptoWallets": [
    {
      "id": 1,
      "walletId": "btc-wallet-abc123",
      "asset": "BTC",
      "balance": "0.0325",
      "address": "67423eb2159cfe1ab70b31ea32fb781b",
      "createdAt": "2023-11-23T20:44:36.008Z",
      "updatedAt": "2023-11-23T23:09:14.810Z"
    }
  ],
  "fiatWallets": [
    {
      "id": 1,
      "currency": "USD",
      "balance": 500.50,
      "userId": 101,
      "createdAt": "2023-10-01T12:00:00.000Z",
      "updatedAt": "2023-10-05T08:15:00.000Z"
    }
  ]
}
```

---

## **Schemas**

### **SanitizedWallet**
| Field | Type | Description |
|-------|------|-------------|
| id | integer | Unique identifier of the wallet. |
| walletId | string | Unique wallet ID. |
| asset | string | Cryptocurrency type (e.g., BTC, ETH). |
| balance | string | Current balance in the wallet. |
| address | string | Public address of the wallet. |
| createdAt | string (date-time) | Timestamp of wallet creation. |
| updatedAt | string (date-time) | Timestamp of last update. |

### **FiatWallet**
| Field | Type | Description |
|-------|------|-------------|
| id | integer | Unique identifier of the wallet. |
| currency | string | Fiat currency (e.g., USD, EUR). |
| balance | number | Current balance in the wallet. |
| userId | integer | User ID owning the wallet. |
| createdAt | string (date-time) | Timestamp of wallet creation. |
| updatedAt | string (date-time) | Timestamp of last update. |

---

## **Notes**
- Ensure the user is **authenticated** before calling any endpoint.
- Handle **error responses** appropriately.
- Use **path parameters** correctly when creating a wallet for a specific asset.

---

### **Author:**
_Last updated: March 2025_